document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("main-header"),r=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu"),n=document.getElementById("menu-icon-open"),c=document.getElementById("menu-icon-close"),h=document.getElementById("theme-toggle"),l=document.getElementById("theme-icon-light"),a=document.getElementById("theme-icon-dark");window.addEventListener("scroll",()=>{window.pageYOffset>50?i?.classList.add("scrolled"):i?.classList.remove("scrolled")}),r?.addEventListener("click",()=>{e?.classList.contains("hidden")?(e?.classList.remove("hidden"),setTimeout(()=>{e?.classList.remove("opacity-0","scale-95"),e?.classList.add("opacity-100","scale-100")},10),n?.classList.add("hidden"),c?.classList.remove("hidden")):(e?.classList.add("opacity-0","scale-95"),e?.classList.remove("opacity-100","scale-100"),setTimeout(()=>{e?.classList.add("hidden")},300),n?.classList.remove("hidden"),c?.classList.add("hidden"))}),document.querySelectorAll(".mobile-nav-link").forEach(t=>{t.addEventListener("click",()=>{e?.classList.add("opacity-0","scale-95"),e?.classList.remove("opacity-100","scale-100"),setTimeout(()=>{e?.classList.add("hidden")},300),n?.classList.remove("hidden"),c?.classList.add("hidden")})});const u=document.querySelectorAll("section[id]"),g=document.querySelectorAll(".nav-link"),L={rootMargin:"-50% 0px -50% 0px",threshold:0},v=new IntersectionObserver(t=>{t.forEach(s=>{if(s.isIntersecting){const E=s.target.getAttribute("id");g.forEach(d=>{d.classList.remove("active"),d.getAttribute("href")===`#${E}`&&d.classList.add("active")})}})},L);u.forEach(t=>v.observe(t));function m(t){t==="light"?(l?.classList.remove("hidden"),a?.classList.add("hidden")):(l?.classList.add("hidden"),a?.classList.remove("hidden"))}const o=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",o),document.documentElement.classList.toggle("light-theme",o==="light"),m(o),h?.addEventListener("click",()=>{const s=(localStorage.getItem("theme")||"dark")==="dark"?"light":"dark";localStorage.setItem("theme",s),document.documentElement.setAttribute("data-theme",s),document.documentElement.classList.toggle("light-theme",s==="light"),m(s)})});
